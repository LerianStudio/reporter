# IMPORTANT: Copy this file to .env and replace all CHANGE_ME values
# with strong, unique passwords before running the application.
# Never commit real credentials to version control.

# WORKER
ENV_NAME=development

# APP
VERSION=v1.0.0

# HEALTH SERVER (liveness + readiness probes)
HEALTH_PORT=4006

# RABBITMQ
RABBITMQ_URI=amqp
RABBITMQ_HOST=reporter-rabbitmq
RABBITMQ_PORT_AMQP=3005
RABBITMQ_PORT_HOST=3006
RABBITMQ_DEFAULT_USER=reporter-user
RABBITMQ_DEFAULT_PASS=CHANGE_ME
RABBITMQ_HEALTH_CHECK_URL=http://${RABBITMQ_HOST}:${RABBITMQ_PORT_HOST}
RABBITMQ_NUMBERS_OF_WORKERS=5
RABBITMQ_GENERATE_REPORT_QUEUE=reporter.generate-report.queue
RABBITMQ_GENERATE_REPORT_KEY=reporter.generate-report.key
RABBITMQ_DLQ_QUEUE=reporter.dlq

# STORAGE CONFIGS (Object Storage - S3-compatible)
# Uses SeaweedFS S3 API by default (standalone mode)
# Compatible with: SeaweedFS S3, MinIO, AWS S3, and other S3-compatible services

# Object Storage endpoint (default for local development with SeaweedFS)
OBJECT_STORAGE_ENDPOINT=http://reporter-seaweedfs:8333
OBJECT_STORAGE_REGION=us-east-1
OBJECT_STORAGE_ACCESS_KEY_ID=any
OBJECT_STORAGE_SECRET_KEY=any
OBJECT_STORAGE_USE_PATH_STYLE=true
OBJECT_STORAGE_DISABLE_SSL=true

# Storage bucket name (uses templates/ and reports/ prefixes internally)
OBJECT_STORAGE_BUCKET=reporter-storage

# MONGO DB
#MONGO_URI=mongo+srv
MONGO_URI=mongodb
MONGO_HOST=reporter-mongodb
MONGO_NAME=reporter-db
MONGO_USER=reporter-user
MONGO_PASSWORD=CHANGE_ME
MONGO_PORT=5708
MONGO_MAX_POOL_SIZE=1000
MONGO_PARAMETERS=

# LOG LEVEL
LOG_LEVEL=debug

# OPEN TELEMETRY
OTEL_RESOURCE_SERVICE_NAME=reporter-worker
OTEL_LIBRARY_NAME=github.com/LerianStudio/reporter
OTEL_RESOURCE_SERVICE_VERSION="${VERSION}"
OTEL_RESOURCE_DEPLOYMENT_ENVIRONMENT="${ENV_NAME}"
OTEL_EXPORTER_OTLP_ENDPOINT_PORT=4317
OTEL_EXPORTER_OTLP_ENDPOINT="otlp://otel-lgtm:${OTEL_EXPORTER_OTLP_ENDPOINT_PORT}"
# Enable OpenTelemetry (set to false for local dev without collector)
ENABLE_TELEMETRY=false

# === EXTERNAL DATABASES EXAMPLE ===

# MIDAZ ONBOARDING (single schema - uses public by default)
DATASOURCE_ONBOARDING_CONFIG_NAME=midaz_onboarding
DATASOURCE_ONBOARDING_HOST=midaz-postgres-replica
DATASOURCE_ONBOARDING_PORT=5702
DATASOURCE_ONBOARDING_USER=midaz
DATASOURCE_ONBOARDING_PASSWORD=CHANGE_ME
DATASOURCE_ONBOARDING_DATABASE=onboarding
DATASOURCE_ONBOARDING_TYPE=postgresql
DATASOURCE_ONBOARDING_SSLMODE=disable
DATASOURCE_ONBOARDING_SSLROOTCERT=

# EXTERNAL DATABASE WITH MULTIPLE SCHEMAS
# Use DATASOURCE_<NAME>_SCHEMAS to specify which schemas to query (comma-separated)
# If not set, defaults to "public" schema only
# In templates, use explicit schema syntax: external_db:sales.orders
#DATASOURCE_EXTERNAL_CONFIG_NAME=external_db
#DATASOURCE_EXTERNAL_HOST=external-postgres
#DATASOURCE_EXTERNAL_PORT=5432
#DATASOURCE_EXTERNAL_USER=db_user
#DATASOURCE_EXTERNAL_PASSWORD=CHANGE_ME
#DATASOURCE_EXTERNAL_DATABASE=external_database
#DATASOURCE_EXTERNAL_TYPE=postgresql
#DATASOURCE_EXTERNAL_SSLMODE=disable
#DATASOURCE_EXTERNAL_SSLROOTCERT=
#DATASOURCE_EXTERNAL_DB_SCHEMAS=sales,inventory,reporting

# CRYPTO KEYS (for plugin_crm decryption - optional, only needed when using plugin_crm datasource)
CRYPTO_HASH_SECRET_KEY_PLUGIN_CRM=CHANGE_ME
CRYPTO_ENCRYPT_SECRET_KEY_PLUGIN_CRM=CHANGE_ME

#CONFIGURE PDF POOL
PDF_POOL_WORKERS=5
PDF_TIMEOUT_SECONDS=30