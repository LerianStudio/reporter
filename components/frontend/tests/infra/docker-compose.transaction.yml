name: plugin-reporter-test

services:
  midaz-transaction-test:
    container_name: midaz-transaction-test
    image: lerianstudio/midaz-transaction:latest
    restart: always
    env_file:
      - .env.transaction
    ports:
      - ${TRANSACTION_PORT}:${TRANSACTION_PORT}
    healthcheck:
      test:
        [
          'CMD',
          'wget',
          '--quiet',
          '--tries=1',
          '--spider',
          'http://localhost:${TRANSACTION_PORT}/health'
        ]
      interval: 10s
      timeout: 5s
      retries: 5
      start_period: 30s
    networks:
      - plugin-reporter-test-network

networks:
  plugin-reporter-test-network:
    name: plugin-reporter-test-network
    driver: bridge
    external: true
